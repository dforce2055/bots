{
  "version": 3,
  "sources": ["../../src/app.ts"],
  "sourcesContent": ["import express from 'express'\nimport path from 'path'\nimport * as dotenv from 'dotenv'\n// https://www.npmjs.com/package/morgan\n// https://expressjs.com/en/resources/middleware/morgan.html\nimport logger from 'morgan'\nimport { DataBase } from './db/database'\nimport { startBots } from './controllers/bots'\nimport { loadApiEndpoints } from './routes'\nimport swaggerUi from 'swagger-ui-express'\n\n// Create Express server\n// https://expressjs.com/en/resources/middleware/cors.html\nimport cors from 'cors'\ndotenv.config()\nconst { TELEGRAM_TOKEN, TELEGRAM_TOKEN2 } = process.env\n\nconst app = express()\n\n// Express configuration\nconst loggerConfig = ':remote-addr - :remote-user [:date[clf]] \":method :url HTTP/:http-version\" :status :res[content-length]'\napp.set('env', process.env.NODE_ENV || 'development')\napp.set('port', process.env.PORT || 3000)\napp.use(express.json())\napp.use(express.urlencoded({ extended: true }))\napp.use(cors())\napp.use(logger(loggerConfig))\n\n\napp.use(\n  express.static(\n    path.join(__dirname, '../public'),\n    { maxAge: 31557600000 }\n  )\n)\n\napp.use(\n  '/api/v1/docs',\n  swaggerUi.serve,\n  swaggerUi.setup(undefined, {\n    swaggerOptions: {\n      url: '/swagger.json',\n    },\n  })\n)\n\n// load routes\nloadApiEndpoints(app)\n\nDataBase.start()\n  .then(async (dbInstance) => {\n    await startBots(app, dbInstance)\n  })\n\nexport default app\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAoB;AACpB,kBAAiB;AACjB,aAAwB;AAGxB,oBAAmB;AACnB,sBAAyB;AACzB,kBAA0B;AAC1B,oBAAiC;AACjC,gCAAsB;AAItB,kBAAiB;AACjB,OAAO,OAAO;AACd,MAAM,EAAE,gBAAgB,gBAAgB,IAAI,QAAQ;AAEpD,MAAM,UAAM,eAAAA,SAAQ;AAGpB,MAAM,eAAe;AACrB,IAAI,IAAI,OAAO,QAAQ,IAAI,YAAY,aAAa;AACpD,IAAI,IAAI,QAAQ,QAAQ,IAAI,QAAQ,GAAI;AACxC,IAAI,IAAI,eAAAA,QAAQ,KAAK,CAAC;AACtB,IAAI,IAAI,eAAAA,QAAQ,WAAW,EAAE,UAAU,KAAK,CAAC,CAAC;AAC9C,IAAI,QAAI,YAAAC,SAAK,CAAC;AACd,IAAI,QAAI,cAAAC,SAAO,YAAY,CAAC;AAG5B,IAAI;AAAA,EACF,eAAAF,QAAQ;AAAA,IACN,YAAAG,QAAK,KAAK,WAAW,WAAW;AAAA,IAChC,EAAE,QAAQ,SAAY;AAAA,EACxB;AACF;AAEA,IAAI;AAAA,EACF;AAAA,EACA,0BAAAC,QAAU;AAAA,EACV,0BAAAA,QAAU,MAAM,QAAW;AAAA,IACzB,gBAAgB;AAAA,MACd,KAAK;AAAA,IACP;AAAA,EACF,CAAC;AACH;AAAA,IAGA,gCAAiB,GAAG;AAEpB,yBAAS,MAAM,EACZ,KAAK,OAAO,eAAe;AAC1B,YAAM,uBAAU,KAAK,UAAU;AACjC,CAAC;AAEH,IAAO,cAAQ;",
  "names": ["express", "cors", "logger", "path", "swaggerUi"]
}
